{{- $storageClassName :=  .Values.buildTool.npm.cache.persistentVolume.storageClass -}}
{{- $storageSize :=  .Values.buildTool.npm.cache.persistentVolume.size -}}
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  labels:
    {{- include "edp-tekton.labels" . | nindent 4 }}
  name: npm-cache
spec:
  accessModes:
    - ReadWriteOnce
{{ if $storageClassName }}
  storageClassName: "{{ $storageClassName }}"
{{ end }}
  volumeMode: Filesystem
  resources:
    requests:
      storage: "{{ $storageSize }}"
